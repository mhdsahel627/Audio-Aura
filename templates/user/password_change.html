{% extends "user/base.html" %}
{% load static %}
{% block title %}Change Password{% endblock %}
{% block content %}
<style>
  .shell{max-width:1240px;margin:0 auto;padding:0 16px}
  .grid{display:grid;grid-template-columns:360px 1fr;gap:28px;align-items:start;margin: 0px -86px 0px -98px;}
  @media(max-width:1100px){.grid{grid-template-columns:1fr}}

  .panel{
    background:#fff;border:2px solid #E5E7EB;border-radius:24px;
    box-shadow:0 12px 36px rgba(0,0,0,.20);padding:28px 28px 34px
  }
  .title{font-size:22px;font-weight:900;margin:0 0 8px;text-align:center}
  .email{font-size:13px;color:#6b7280;text-align:center;margin-bottom:18px}

  .form{max-width:620px;margin:0 auto;display:grid;gap:14px}
  .label{font-size:12px;color:#6b7280;margin-bottom:6px}
  .input{
    width:100%;height:46px;border-radius:4px;border:1px solid #D7DDE6;
    background:#595959; padding:0 12px; font-weight:600
  }
  .row{display:flex;justify-content:space-between;align-items:center}
  .forgot{font-size:12px;color:#e30000;text-decoration:none}
  .btn{
    display:block;margin:14px auto 0;height:40px;padding:0 18px;border-radius:10px;border:1px solid #111;
    background:#111;color:#fff;font-weight:800;cursor:pointer;min-width:220px
  }

  .msg{max-width:620px;margin:0 auto 10px}
  .msg li{background:#f1f5f9;border:1px solid #e2e8f0;padding:8px 10px;border-radius:8px;margin:0 0 6px;list-style:none}
  .amt{
    display: flex;
    justify-content: center;
  }
</style>

<section style="padding:30px 0 54px;background:radial-gradient(1200px 700px at 15% -10%, rgba(255,255,255,.06), transparent),linear-gradient(180deg,#16031f,#2a0830)">
  <div class="shell">
    <div style="color:#fff;opacity:.85;margin-bottom:10px">  </div>

    <div class="grid">
      {% include "user/sidebar.html" with active_tab="password" %}

      <div class="panel">
        <div class="amt">
          <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.8.11/dist/dotlottie-wc.js" type="module"></script>
          <dotlottie-wc src="https://lottie.host/3288417e-75b3-47f1-a728-1415b402f571/88OD6If5MR.lottie" style="width: 200px;height: 200px" autoplay loop></dotlottie-wc>
        </div>
        <h1 class="title">Change Password for</h1>
        <div class="email">{{ request.user.email }}</div>

        {% if messages %}
        <ul class="msg">
          {% for message in messages %}
          <li>{{ message }}</li>
          {% endfor %}
        </ul>
        {% endif %}

        <form method="post" class="form" action="{% url 'password_change' %}">
          {% csrf_token %}

          <div>
            <div class="label">Enter Current Password</div>
            <input class="input" type="password" name="current_password" required>
          </div>

          <div>
            <div class="label">Enter New Password</div>
            <input class="input" type="password" name="new_password" required>
          </div>

          <div class="row">
            <div style="flex:1;margin-right:12px">
              <div class="label">Confirm New Password</div>
              <input class="input" type="password" name="confirm_password" required>
            </div>
            <div>
              <a class="forgot" href="{% url 'password_forgot' %}">forgot password ?</a>
            </div>
          </div>

          <button class="btn" type="submit">Update Password</button>
        </form>
      </div>
    </div>
  </div>
</section>
{% endblock %}
