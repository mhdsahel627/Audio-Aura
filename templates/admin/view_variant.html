{% extends 'admin/admin-base.html' %}
{% load static %}

{% block title %}
  View variant
{% endblock %}

{% block content %}

<section class="admin-variants">
  <nav class="crumbs">
    <a href="{% url 'admin_dashboard'%}">Dashboard</a>
    <span>›</span>
    <a href="{% url 'product_list' %}">Products</a>
    <span>›</span>
    <span class="here">Manage Variants</span>
  </nav>

  <header class="av-head">
    <h2>Manage&nbsp;Variants</h2>

    <div class="av-tools">
      <div class="av-search">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21 21l-4.3-4.3M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        <input type="search" id="variantSearch" placeholder="Search color">
      </div>

      <a href="{% url 'variant_add' product_id=product.id %}">
          <button class="btn add" type="button">Add Variant</button>
      </a>
    </div>
  </header>

  <div class="av-card">
    <div class="table-wrap">
      <table class="av-table" aria-describedby="variantsCaption">
        <caption id="variantsCaption" class="sr-only">Product variants with color and stock</caption>
        <thead>
          <tr>
            <th style="width:44px;">
             
            </th>
            <th style="width:72px;">No</th>
            <th>Color</th>
            <th style="width:120px;">Stock</th>
            <th style="width:120px;">Actions</th>
          </tr>
        </thead>
      <tbody id="variantsBody">
        {% for v in variants %}
        <tr>
          <td></td>
          <td>{{ forloop.counter }}</td>
          <td><span class="tag">{{ v.color }}</span></td>
          <td>{{ v.stock }}</td>
          <td>
            <div class="row-actions">
              <a href="{% url 'variant_edit' product_id=product.id variant_id=v.id %}" class="action edit" title="Edit">✎</a>
            </div>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="5" style="text-align:center;">No variants found.</td>
        </tr>
        {% endfor %}
      </tbody>
      </table>
    </div>
  </div>
</section>

<style>
:root{
  --page-bg: radial-gradient(1000px 700px at 15% -10%, #47152b 0%, #2a0d1f 50%, #1a0916 100%);
  --panel:#0f1116; --panel-2:#141822; --panel-3:#1b2130;
  --ink:#eef1f5; --muted:#a7adbb; --soft:#2b3140; --accent:#8df2ff;
  --radius:16px; --shadow: 0 18px 60px rgba(0,0,0,.35);
}

.admin-variants{ color:var(--ink); }
.crumbs{ display:flex; gap:8px; align-items:center; color:#d7cfe0; margin:8px 0 12px; }
.crumbs a{ color:#e9e3ee; text-decoration:none; }
.crumbs .here{ color:#ffffff; opacity:.9; }

.av-head{ display:flex; align-items:center; justify-content:space-between; gap:16px; margin:12px 0 12px; }
.av-head h2{ margin:0; font:800 24px/1.2 Inter,system-ui; letter-spacing:.2px; }

.av-tools{ display:flex; gap:10px; align-items:center; }
.av-search{ display:flex; align-items:center; gap:8px;
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border:1px solid rgba(255,255,255,.14); border-radius:999px; padding:6px 10px;
}
.av-search svg{ width:16px; height:16px; color:#cbd5e1; }
.av-search input{ background:transparent; border:0; outline:none; color:#fff; width:220px; font:600 13px Inter,system-ui; }

.btn{ appearance:none; border:0; border-radius:999px; padding:8px 12px; cursor:pointer; font:700 12px/1 Inter,system-ui; }
.btn.add{ background:#fff; color:#121215; }
.btn.ghost{ background:transparent; color:#eaf2ff; border:1px solid rgba(255,255,255,.22); border-radius:10px; padding:8px 12px; }

.av-card{ background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02)); border:1px solid rgba(255,255,255,.12); border-radius: var(--radius); box-shadow: var(--shadow); }

.table-wrap{ overflow:auto; border-radius: 12px; }
.av-table{ width:100%; border-collapse:separate; border-spacing:0; min-width:500px; }
.av-table thead th{ position:sticky; top:0; z-index:2; background:#0c0e14; color:#cdd3df; text-align:left; font:800 12px/1.2 Inter,system-ui; letter-spacing:.5px; padding:14px 12px; border-bottom:1px solid rgba(255,255,255,.08); }

.av-table tbody td{ padding:14px 12px; border-bottom:1px solid rgba(255,255,255,.06); color:#e4e8ef; font:600 13px Inter,system-ui; }
.av-table tbody tr:nth-child(odd){ background:#12151e; }
.av-table tbody tr:nth-child(even){ background:#0f131b; }

.tag{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; font:700 11px Inter; letter-spacing:.3px; background:#0b1720; border:1px solid rgba(141,242,255,.25); color:#a8f2ff; }

.row-actions{ display:flex; gap:10px; align-items:center; }
.action{ width:28px; height:28px; border-radius:8px; display:inline-flex; align-items:center; justify-content:center; color:#e9eef9; background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12); cursor:pointer; }
.action.edit{ color:#a7f0ff; }
.action.del{ color:#ffb4b4; }
.action:hover{ box-shadow: 0 0 0 3px rgba(141,242,255,.35); }

.av-foot{ display:flex; align-items:center; justify-content:space-between; gap:16px; padding:12px; border-top:1px solid rgba(255,255,255,.08); }
.bulk{ display:flex; align-items:center; gap:8px; }
.bulk select{ background:#121824; color:#e9eef9; border:1px solid rgba(255,255,255,.18); border-radius:10px; padding:8px 10px; font:600 12px Inter; }

.pager{ display:flex; align-items:center; gap:8px; }
.pager .p{ border:1px solid rgba(255,255,255,.2); color:#fff; background:transparent; border-radius:8px; height:32px; min-width:32px; padding:0 10px; }
.pager .info{ border:0; min-width:auto; }
.pager .prev:disabled, .pager .next:disabled{ opacity:.5; cursor:not-allowed; }

.empty{ text-align:center; padding:28px; color:#d7dce7; }
.sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

@media(max-width:900px){ .av-head{ flex-direction:column; align-items:flex-start; gap:8px; } }
</style>




{% endblock %}
